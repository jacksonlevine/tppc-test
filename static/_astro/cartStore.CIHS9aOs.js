import{a as C,c as h,b as w,r as g,u as v}from"./index.ChkhOSDS.js";import{p as E}from"./index.B-gUmfTx.js";import{a as O}from"./index.B9Lqsz3r.js";import{c as S}from"./index.BfFOJjEX.js";/*! js-cookie v3.0.5 | MIT */function f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)t[o]=r[o]}return t}var _={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function m(t,e){function r(a,i,n){if(!(typeof document>"u")){n=f({},e,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var d in n)n[d]&&(c+="; "+d,n[d]!==!0&&(c+="="+n[d].split(";")[0]));return document.cookie=a+"="+t.write(i,a)+c}}function o(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var i=document.cookie?document.cookie.split("; "):[],n={},c=0;c<i.length;c++){var d=i[c].split("="),y=d.slice(1).join("=");try{var p=decodeURIComponent(d[0]);if(n[p]=t.read(y,p),a===p)break}catch{}}return a?n[a]:n}}return Object.create({set:r,get:o,remove:function(a,i){r(a,"",f({},i,{expires:-1}))},withAttributes:function(a){return m(this.converter,f({},this.attributes,a))},withConverter:function(a){return m(f({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var s=m(_,{path:"/"});async function R(t,e){let r=s.get("cartId"),o;if(r&&(o=await C(r,e)),(!r||!o)&&(o=await h(e),r=o.id,s.set("cartId",r)),!t)return"Missing product variant ID";try{await w(r,[{merchandiseId:t,quantity:1}],e)}catch{return"Error adding item to cart"}}async function D(t,e){const r=s.get("cartId");if(!r)return"Missing cart ID";try{await g(r,[t],e)}catch{return"Error removing item from cart"}}async function F(t,e){const r=s.get("cartId");if(!r)return"Missing cart ID";const{lineId:o,variantId:a,quantity:i}=t;try{i===0&&await g(r,[o],e),await v(r,[{id:o,merchandiseId:a,quantity:i}],e)}catch{return"Error updating item quantity"}}const u={ASSETS_PREFIX:void 0,BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,PUBLIC_SHOPIFY_CUSTOMERACCOUNTAPI_CLIENTID:"1bebf8ab-21a5-49e2-87d1-083d826e2fac",PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN:"6b1998ad993e5edbe678ae7d446f66e7",PUBLIC_SHOPIFY_STORE_DOMAIN:"pureplantdev.myshopify.com",SITE:"https://main.d2o67etau3ak8h.amplifyapp.com",SSR:!1},l=E("cart",null,{encode:JSON.stringify,decode:JSON.parse}),M=S(l,t=>t?t.totalQuantity:0),U=O(!1);function j(t){U.set(t)}async function I(){const t=s.get("cartId");if(t){const e=await C(t,u);l.set(e)}}async function k(t){try{return await R(t,u),await I(),"Added to cart"}catch(e){throw new Error(e.message||"Failed to add to cart")}}async function L(t){try{return await D(t,u),await I(),"Removed from cart"}catch(e){throw new Error(e.message||"Failed to remove item from cart")}}async function N(t){try{return await F(t,u),await I(),"Cart updated"}catch(e){throw new Error(e.message||"Failed to update cart")}}export{k as a,I as b,U as c,l as d,L as r,j as s,M as t,N as u};
