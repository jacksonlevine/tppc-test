import{r}from"./index.voUD-miS.js";import{g as f,f as d}from"./index.Br6pAFfs.js";function l(e,s){const[u,a]=r.useState(e),o=r.useRef(!0);r.useEffect(()=>{a(e)},[e]),r.useEffect(()=>()=>{o.current=!1},[]);const n=r.useCallback(async()=>{try{const t=await f(e.handle,s);if(!t||!o.current)return;const c=t.priceRange.minVariantPrice;a(i=>({...i,variantId:t?.variants?.[0]?.id??i.variantId,price:d(c),priceAmount:c.amount,currencyCode:c.currencyCode}))}catch(t){console.error("Unable to refresh product pricing",t)}},[e.handle]);return r.useEffect(()=>{n()},[n]),{liveProduct:u,refreshProductPricing:n}}export{l as u};
