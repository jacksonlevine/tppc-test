import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n,R as M}from"./index.voUD-miS.js";import{D as Ce,f as W,u as Pe,r as $e,C as Ae,s as le,b as Ee,c as Oe,t as ze,d as Me}from"./cartStore.Yi2xGil1.js";import{g as De}from"./siteBase.D7PHzp7q.js";import{f as de,s as Re,n as U,o as I,v as z,T as k,A as G,e as Fe,G as F,a as _,h as J,L as X,z as ee}from"./uiOverlayStore.DG-zDXnJ.js";import{T as ie}from"./themeObjects.CpNzzJD1.js";import{u as Z}from"./index.BO1yvSFp.js";import{$ as ue,a as _e,w as Le}from"./use-active-press.403lRAa0.js";import{f as Ue,Y as B,y as q,n as V,o as E,V as me,K as H,t as Be,u as L,A as oe,s as Q}from"./transition.DpjJzyN3.js";import"./index.B-gUmfTx.js";import"./index.B9Lqsz3r.js";import"./index.BfFOJjEX.js";import"./index.Bv6cXHiw.js";function qe({title:t,titleId:s,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?n.createElement("title",{id:s},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const He=n.forwardRef(qe);function We({title:t,titleId:s,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?n.createElement("title",{id:s},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ge=n.forwardRef(We);function Qe({title:t,titleId:s,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?n.createElement("title",{id:s},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const te=n.forwardRef(Qe);function Ve(t,s){return n.useMemo(()=>{var r;if(t.type)return t.type;let a=(r=t.as)!=null?r:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||s?.tagName==="BUTTON"&&!s.hasAttribute("type"))return"button"},[t.type,t.as,s])}function Ye({onFocus:t}){let[s,r]=n.useState(!0),a=Ue();return s?M.createElement(de,{as:"button",type:"button",features:Re.Focusable,onFocus:c=>{c.preventDefault();let l,d=50;function x(){if(d--<=0){l&&cancelAnimationFrame(l);return}if(t()){if(cancelAnimationFrame(l),!a.current)return;r(!1);return}l=requestAnimationFrame(x)}l=requestAnimationFrame(x)}}):null}const xe=n.createContext(null);function Ke(){return{groups:new Map,get(t,s){var r;let a=this.groups.get(t);a||(a=new Map,this.groups.set(t,a));let c=(r=a.get(s))!=null?r:0;a.set(s,c+1);let l=Array.from(a.keys()).indexOf(s);function d(){let x=a.get(s);x>1?a.set(s,x-1):a.delete(s)}return[l,d]}}}function Ze({children:t}){let s=n.useRef(Ke());return n.createElement(xe.Provider,{value:s},t)}function fe(t){let s=n.useContext(xe);if(!s)throw new Error("You must wrap your component in a <StableCollection>");let r=n.useId(),[a,c]=s.current.get(t,r);return n.useEffect(()=>c,[]),a}var Je=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Je||{}),Xe=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Xe||{}),et=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(et||{});let tt={0(t,s){var r;let a=F(t.tabs,h=>h.current),c=F(t.panels,h=>h.current),l=a.filter(h=>{var v;return!((v=h.current)!=null&&v.hasAttribute("disabled"))}),d={...t,tabs:a,panels:c};if(s.index<0||s.index>a.length-1){let h=L(Math.sign(s.index-t.selectedIndex),{[-1]:()=>1,0:()=>L(Math.sign(s.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return d;let v=L(h,{0:()=>a.indexOf(l[0]),1:()=>a.indexOf(l[l.length-1])});return{...d,selectedIndex:v===-1?t.selectedIndex:v}}let x=a.slice(0,s.index),u=[...a.slice(s.index),...x].find(h=>l.includes(h));if(!u)return d;let g=(r=a.indexOf(u))!=null?r:t.selectedIndex;return g===-1&&(g=t.selectedIndex),{...d,selectedIndex:g}},1(t,s){if(t.tabs.includes(s.tab))return t;let r=t.tabs[t.selectedIndex],a=F([...t.tabs,s.tab],l=>l.current),c=t.selectedIndex;return t.info.current.isControlled||(c=a.indexOf(r),c===-1&&(c=t.selectedIndex)),{...t,tabs:a,selectedIndex:c}},2(t,s){return{...t,tabs:t.tabs.filter(r=>r!==s.tab)}},3(t,s){return t.panels.includes(s.panel)?t:{...t,panels:F([...t.panels,s.panel],r=>r.current)}},4(t,s){return{...t,panels:t.panels.filter(r=>r!==s.panel)}}},se=n.createContext(null);se.displayName="TabsDataContext";function D(t){let s=n.useContext(se);if(s===null){let r=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,D),r}return s}let ae=n.createContext(null);ae.displayName="TabsActionsContext";function re(t){let s=n.useContext(ae);if(s===null){let r=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,re),r}return s}function st(t,s){return L(s.type,tt,t,s)}let at="div";function rt(t,s){let{defaultIndex:r=0,vertical:a=!1,manual:c=!1,onChange:l,selectedIndex:d=null,...x}=t;const u=a?"vertical":"horizontal",g=c?"manual":"auto";let h=d!==null,v=Q({isControlled:h}),S=q(s),[o,f]=n.useReducer(st,{info:v,selectedIndex:d??r,tabs:[],panels:[]}),b=U({selectedIndex:o.selectedIndex}),w=Q(l||(()=>{})),T=Q(o.tabs),y=n.useMemo(()=>({orientation:u,activation:g,...o}),[u,g,o]),$=E(j=>(f({type:1,tab:j}),()=>f({type:2,tab:j}))),A=E(j=>(f({type:3,panel:j}),()=>f({type:4,panel:j}))),i=E(j=>{m.current!==j&&w.current(j),h||f({type:0,index:j})}),m=Q(h?t.selectedIndex:o.selectedIndex),N=n.useMemo(()=>({registerTab:$,registerPanel:A,change:i}),[]);V(()=>{f({type:0,index:d??r})},[d]),V(()=>{if(m.current===void 0||o.tabs.length<=0)return;let j=F(o.tabs,P=>P.current);j.some((P,O)=>o.tabs[O]!==P)&&i(j.indexOf(o.tabs[m.current]))});let Y={ref:S},R=H();return M.createElement(Ze,null,M.createElement(ae.Provider,{value:N},M.createElement(se.Provider,{value:y},y.tabs.length<=0&&M.createElement(Ye,{onFocus:()=>{var j,P;for(let O of T.current)if(((j=O.current)==null?void 0:j.tabIndex)===0)return(P=O.current)==null||P.focus(),!0;return!1}}),R({ourProps:Y,theirProps:x,slot:b,defaultTag:at,name:"Tabs"}))))}let nt="div";function lt(t,s){let{orientation:r,selectedIndex:a}=D("Tab.List"),c=q(s),l=U({selectedIndex:a}),d=t,x={ref:c,role:"tablist","aria-orientation":r};return H()({ourProps:x,theirProps:d,slot:l,defaultTag:nt,name:"Tabs.List"})}let it="button";function ot(t,s){var r,a;let c=n.useId(),{id:l=`headlessui-tabs-tab-${c}`,disabled:d=!1,autoFocus:x=!1,...u}=t,{orientation:g,activation:h,selectedIndex:v,tabs:S,panels:o}=D("Tab"),f=re("Tab"),b=D("Tab"),[w,T]=n.useState(null),y=n.useRef(null),$=q(y,s,T);V(()=>f.registerTab(y),[f,y]);let A=fe("tabs"),i=S.indexOf(y);i===-1&&(i=A);let m=i===v,N=E(p=>{let C=p();if(C===G.Success&&h==="auto"){let K=Fe(y.current),ne=b.tabs.findIndex(ke=>ke.current===K);ne!==-1&&f.change(ne)}return C}),Y=E(p=>{let C=S.map(K=>K.current).filter(Boolean);if(p.key===I.Space||p.key===I.Enter){p.preventDefault(),p.stopPropagation(),f.change(i);return}switch(p.key){case I.Home:case I.PageUp:return p.preventDefault(),p.stopPropagation(),N(()=>z(C,k.First));case I.End:case I.PageDown:return p.preventDefault(),p.stopPropagation(),N(()=>z(C,k.Last))}if(N(()=>L(g,{vertical(){return p.key===I.ArrowUp?z(C,k.Previous|k.WrapAround):p.key===I.ArrowDown?z(C,k.Next|k.WrapAround):G.Error},horizontal(){return p.key===I.ArrowLeft?z(C,k.Previous|k.WrapAround):p.key===I.ArrowRight?z(C,k.Next|k.WrapAround):G.Error}}))===G.Success)return p.preventDefault()}),R=n.useRef(!1),j=E(()=>{var p;R.current||(R.current=!0,(p=y.current)==null||p.focus({preventScroll:!0}),f.change(i),Be(()=>{R.current=!1}))}),P=E(p=>{p.preventDefault()}),{isFocusVisible:O,focusProps:je}=ue({autoFocus:x}),{isHovered:ve,hoverProps:Ne}=_e({isDisabled:d}),{pressed:we,pressProps:Se}=Le({disabled:d}),Te=U({selected:m,hover:ve,active:we,focus:O,autofocus:x,disabled:d}),Ie=me({ref:$,onKeyDown:Y,onMouseDown:P,onClick:j,id:l,role:"tab",type:Ve(t,w),"aria-controls":(a=(r=o[i])==null?void 0:r.current)==null?void 0:a.id,"aria-selected":m,tabIndex:m?0:-1,disabled:d||void 0,autoFocus:x},je,Ne,Se);return H()({ourProps:Ie,theirProps:u,slot:Te,defaultTag:it,name:"Tabs.Tab"})}let ct="div";function dt(t,s){let{selectedIndex:r}=D("Tab.Panels"),a=q(s),c=U({selectedIndex:r}),l=t,d={ref:a};return H()({ourProps:d,theirProps:l,slot:c,defaultTag:ct,name:"Tabs.Panels"})}let ut="div",mt=oe.RenderStrategy|oe.Static;function xt(t,s){var r,a,c,l;let d=n.useId(),{id:x=`headlessui-tabs-panel-${d}`,tabIndex:u=0,...g}=t,{selectedIndex:h,tabs:v,panels:S}=D("Tab.Panel"),o=re("Tab.Panel"),f=n.useRef(null),b=q(f,s);V(()=>o.registerPanel(f),[o,f]);let w=fe("panels"),T=S.indexOf(f);T===-1&&(T=w);let y=T===h,{isFocusVisible:$,focusProps:A}=ue(),i=U({selected:y,focus:$}),m=me({ref:b,id:x,role:"tabpanel","aria-labelledby":(a=(r=v[T])==null?void 0:r.current)==null?void 0:a.id,tabIndex:y?u:-1},A),N=H();return!y&&((c=g.unmount)==null||c)&&!((l=g.static)!=null&&l)?M.createElement(de,{"aria-hidden":"true",...m}):N({ourProps:m,theirProps:g,slot:i,defaultTag:ut,features:mt,visible:y,name:"Tabs.Panel"})}let ft=B(ot),he=B(rt),pe=B(lt),ge=B(dt),be=B(xt),ht=Object.assign(ft,{Group:he,List:pe,Panels:ge,Panel:be});function pt({open:t,setOpen:s,currentCart:r,quantity:a,loading:c,setLoading:l,theme:d="hub"}){const x=De(),u=c,g=ie[d]||ie.hub,h=r?r.lines.map((o,f)=>{const b=`${x}/products/${o.merchandise.product.handle}`,w=o.merchandise.title===Ce?o.merchandise.product.title:o.merchandise.title;return{id:f,name:w,href:b,color:"None",price:W(o.cost.totalAmount),imageSrc:o.merchandise.product.featuredImage?.url,imageAlt:"Picture of "+w,quantity:o.quantity,lineId:o.id,variantId:o.merchandise.id}}):[],v=async(o,f)=>{l(!0);try{await Pe({lineId:o.lineId,variantId:o.variantId,quantity:f})}finally{l(!1)}},S=async o=>{l(!0);try{await $e(o.lineId)}finally{l(!1)}};return n.useEffect(()=>(_("cartDialog",t),()=>_("cartDialog",!1)),[t]),!r||r.lines.length===0||a===0?e.jsxs(J,{open:t,onClose:s,className:"relative z-10",children:[e.jsx(X,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-stretch justify-center text-center sm:items-center sm:px-6 lg:px-8",children:e.jsx(ee,{transition:!0,className:"flex w-full transform text-left text-base transition data-closed:scale-105 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:max-w-3xl",children:e.jsxs("form",{className:"relative flex w-full flex-col overflow-hidden bg-white pt-6 pb-8 sm:rounded-lg sm:pb-6 lg:py-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shopping Cart"}),e.jsxs("button",{type:"button",onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(te,{"aria-hidden":"true",className:"size-6"})]})]}),e.jsxs("section",{"aria-labelledby":"cart-heading",children:[e.jsx("h2",{id:"cart-heading",className:"sr-only",children:"No items in your shopping cart"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200 px-4 sm:px-6 lg:px-8",children:e.jsx("li",{className:"flex py-8 text-sm sm:items-center",children:e.jsx("div",{className:"ml-4 grid flex-auto grid-cols-1 grid-rows-1 items-start gap-x-5 gap-y-3 sm:ml-6 sm:flex sm:items-center sm:gap-0",children:e.jsx("div",{className:"row-end-1 flex-auto sm:pr-6",children:e.jsx("h3",{className:"font-medium text-gray-900",children:e.jsx("a",{children:"Your cart is empty."})})})})},0)})]}),e.jsx("section",{"aria-labelledby":"summary-heading",className:"mt-auto sm:px-6 lg:px-8"}),e.jsx("div",{className:"mt-8 flex justify-end px-4 sm:px-6 lg:px-8",children:e.jsx("a",{href:x+"/products/",children:e.jsx("div",{className:`rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white shadow-xs focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50 focus:outline-hidden ${g.bg}`,children:"Go to Products"})})})]})})})})]}):e.jsxs(J,{open:t,onClose:s,className:"relative z-10",children:[e.jsx(X,{transition:!0,className:"fixed inset-0 bg-gray-500/75 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-stretch justify-center text-center sm:items-center sm:px-6 lg:px-8",children:e.jsx(ee,{transition:!0,className:"flex w-full transform text-left text-base transition data-closed:scale-105 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:max-w-3xl",children:e.jsxs("form",{className:"relative flex w-full flex-col overflow-hidden bg-white pt-6 pb-8 sm:rounded-lg sm:pb-6 lg:py-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shopping Cart"}),e.jsxs("button",{type:"button",onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(te,{"aria-hidden":"true",className:"size-6"})]})]}),e.jsxs("section",{"aria-labelledby":"cart-heading",children:[e.jsx("h2",{id:"cart-heading",className:"sr-only",children:"Items in your shopping cart"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200 px-4 sm:px-6 lg:px-8",children:h.map((o,f)=>e.jsxs("li",{className:"flex py-8 text-sm sm:items-center",children:[e.jsx("img",{alt:o.imageAlt,src:o.imageSrc,className:"size-24 flex-none rounded-lg border border-gray-200 sm:size-32"}),e.jsxs("div",{className:"ml-4 grid flex-auto grid-cols-1 grid-rows-1 items-start gap-x-5 gap-y-3 sm:ml-6 sm:flex sm:items-center sm:gap-0",children:[e.jsxs("div",{className:"row-end-1 flex-auto sm:pr-6",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:e.jsx("a",{href:o.href,children:o.name})}),e.jsx("p",{className:"mt-1 text-gray-500",children:o.color})]}),e.jsx("p",{className:"row-span-2 row-end-2 font-medium text-gray-900 sm:order-1 sm:ml-6 sm:w-1/3 sm:flex-none sm:text-right",children:o.price}),e.jsxs("div",{className:"flex items-center sm:block sm:flex-none sm:text-center",children:[e.jsx("div",{className:`flex items-center rounded-md outline-1 -outline-offset-1 outline-gray-300 focus-within:outline-2 focus-within:-outline-offset-2 ${g.outline}`,children:e.jsx("input",{type:"number",min:1,inputMode:"numeric",name:`quantity-${f}`,"aria-label":`Quantity, ${o.name}`,className:"w-12 appearance-none bg-white py-1.5 text-center text-base text-gray-900 focus:outline-none sm:text-sm",value:o.quantity,onChange:b=>{const w=Math.max(1,Number(b.target.value)||1);v(o,w)}})}),e.jsx("button",{type:"button",className:"ml-4 font-medium text-black hover:text-indigo-500 sm:mt-2 sm:ml-0",onClick:()=>S(o),children:e.jsx("span",{children:"Remove"})})]})]})]},o.id))})]}),e.jsx("section",{"aria-labelledby":"summary-heading",className:"mt-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-gray-50 p-6 sm:rounded-lg sm:p-8",children:[e.jsx("h2",{id:"summary-heading",className:"sr-only",children:"Order summary"}),e.jsx("div",{className:"flow-root",children:e.jsxs("dl",{className:"-my-4 divide-y divide-gray-200 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("dt",{className:"text-gray-600",children:"Subtotal"}),e.jsx("dd",{className:"font-medium text-gray-900",children:W(r.cost.totalAmount)})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("dt",{className:"text-gray-600",children:"Shipping"}),e.jsx("dd",{className:"font-medium text-gray-900",children:"Calculated at checkout."})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("dt",{className:"text-gray-600",children:"Tax"}),e.jsx("dd",{className:"font-medium text-gray-900",children:W(r.cost.totalTaxAmount)})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Order total"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:W({currencyCode:r.cost.totalAmount.currencyCode,amount:((parseFloat(r.cost.totalAmount.amount)||0)+(parseFloat(r.cost.totalTaxAmount.amount)||0)).toString()})})]})]})})]})}),e.jsx("div",{className:"mt-8 flex justify-end px-4 sm:px-6 lg:px-8",children:e.jsx("a",{href:u?void 0:r.checkoutUrl,"aria-disabled":u,tabIndex:u?-1:void 0,className:u?"pointer-events-none":void 0,children:e.jsx("div",{className:`rounded-md border border-transparent px-4 py-2 text-sm font-medium shadow-xs focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:outline-hidden ${u?"cursor-not-allowed bg-gray-300 text-gray-600":`${g.bg} text-white focus:ring-indigo-500`}`,children:"Continue to Payment"})})})]})})})})]})}async function gt(t){const s=await fetch(Ae,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`${t}`},body:JSON.stringify({query:`
        query {
          customer {
            firstName
            lastName
            emailAddress { emailAddress }
          }
        }
      `})});if(!s.ok)return null;const r=await s.json();if(r.errors||!r.data?.customer)return null;const a=r.data.customer;return{firstName:a.firstName??null,lastName:a.lastName??null,email:a.emailAddress?.emailAddress??null}}const bt="oauth_return_to";function yt(){return window.location.pathname+window.location.search+window.location.hash}function ye(t){let s="";for(const l of t)s+=String.fromCharCode(l);return btoa(s).split("+").join("-").split("/").join("_").split("=").join("")}async function jt(t){const s=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(t));return ye(new Uint8Array(s))}async function vt(t){const s="pureplantdev.myshopify.com",r="1bebf8ab-21a5-49e2-87d1-083d826e2fac",a=`${window.location.origin}/auth/callback`;sessionStorage.setItem(bt,t??yt());const c=await fetch(`https://${s}/.well-known/openid-configuration`).then(g=>g.json()),l=ye(crypto.getRandomValues(new Uint8Array(32)));sessionStorage.setItem("pkce_verifier",l);const d=await jt(l),x=crypto.randomUUID();sessionStorage.setItem("oauth_state",x);const u=new URL(c.authorization_endpoint);u.searchParams.set("client_id",r),u.searchParams.set("response_type","code"),u.searchParams.set("scope","openid email customer-account-api:full"),u.searchParams.set("redirect_uri",a),u.searchParams.set("code_challenge",d),u.searchParams.set("code_challenge_method","S256"),u.searchParams.set("state",x),window.location.href=u.toString()}function ce(){const[t,s]=n.useState("loading"),[r,a]=n.useState("");return n.useEffect(()=>{const c=localStorage.getItem("customer_access_token");if(!c){s("signedOut");return}gt(c).then(l=>{l?(a(l.firstName&&l.lastName?`${l.firstName??""} ${l.lastName??""}`:`${l.email}`),s("signedIn")):(localStorage.removeItem("customer_access_token"),s("signedOut"))})},[]),t==="loading"?null:t==="signedOut"?e.jsx("button",{className:"cursor-pointer",onClick:vt,children:"Sign in"}):e.jsx("span",{children:r})}function Mt({navigation:t,currentURL:s,theme:r,logo:a}){const[c,l]=n.useState(!1),d=Z(Oe),x=Z(Me),u=Z(ze),[g,h]=n.useState(!1),[v,S]=n.useState(!0),[o,f]=n.useState(null),b=i=>{T(!!i),f(i)},[w,T]=n.useState(!1),[y,$]=n.useState(!1);n.useEffect(()=>{async function i(){try{await Ee()}catch(m){console.error("Failed to refresh cart:",m)}finally{S(!1)}}i(),h(!0)},[]),n.useEffect(()=>(_("mobileMenu",c),()=>_("mobileMenu",!1)),[c]),n.useEffect(()=>{_("cartDialog",d)},[d]),n.useEffect(()=>{setTimeout(()=>{$(w)},200)},[w]);const A=g?u:0;return e.jsxs("div",{className:"bg-red-800",children:[e.jsx(pt,{open:d,setOpen:le,currentCart:x,quantity:u,loading:v,setLoading:S,theme:r}),e.jsxs(J,{open:c,onClose:l,className:"relative z-40 lg:hidden",children:[e.jsx(X,{transition:!0,className:"fixed inset-0 bg-black/25 transition-opacity duration-300 ease-linear data-closed:opacity-0"}),e.jsx("div",{className:"fixed inset-0 z-40 flex",children:e.jsxs(ee,{transition:!0,className:"relative flex w-full max-w-xs transform flex-col overflow-y-auto bg-white pb-12 shadow-xl transition duration-300 ease-in-out data-closed:-translate-x-full",children:[e.jsx("div",{className:"flex px-4 pt-5 pb-2",children:e.jsxs("button",{type:"button",onClick:()=>l(!1),className:"relative -m-2 inline-flex items-center justify-center rounded-md p-2 text-gray-400",children:[e.jsx("span",{className:"absolute -inset-0.5"}),e.jsx("span",{className:"sr-only",children:"Close menu"}),e.jsx(te,{"aria-hidden":"true",className:"size-6"})]})}),e.jsxs(he,{className:"mt-2",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx(pe,{className:"-mb-px flex space-x-8 px-4",children:t.categories.map(i=>e.jsx(ht,{className:"data-selected:text-bold flex-1 border-b-2 border-transparent px-1 py-4 text-base font-medium whitespace-nowrap text-gray-900",children:i.name},i.name))})}),e.jsx(ge,{as:n.Fragment,children:t.categories.map(i=>e.jsx(be,{className:"space-y-12 px-4 py-6",children:e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-10",children:i.featured.map(m=>e.jsxs("div",{className:"group relative",children:[e.jsx("img",{alt:m.imageAlt,src:m.imageSrc,srcSet:m.imageSrcset,sizes:m.imageSizes,className:"aspect-square w-full rounded-md bg-gray-100 object-cover"}),e.jsxs("a",{href:m.href,className:"mt-6 block text-sm font-medium text-gray-900",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 z-10"}),m.name]}),e.jsx("p",{"aria-hidden":"true",className:"mt-1 text-sm text-gray-500",children:"Shop now"})]},m.name))})},i.name))})]}),e.jsx("div",{className:"space-y-6 border-t border-gray-200 px-4 py-6",children:t.pages.map(i=>e.jsx("div",{className:"flow-root",children:e.jsx("a",{href:i.href,className:"-m-2 block p-2 font-medium text-gray-900",children:i.name})},i.name))}),e.jsx("div",{className:"space-y-6 border-t border-gray-200 px-4 py-6",children:e.jsx(ce,{})})]})})]}),e.jsx("header",{className:"relative",children:e.jsx("nav",{"aria-label":"Top",children:e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsx("div",{className:"hidden lg:flex lg:flex-1 lg:items-center",children:e.jsxs("a",{href:t.home.href,children:[e.jsx("span",{className:"sr-only",children:a.alt}),e.jsx("img",{alt:a.alt,src:a.src,srcSet:a.srcset,sizes:a.sizes,className:"h-8 w-auto"})]})}),e.jsx("div",{className:"hidden h-full lg:flex",children:e.jsx("div",{className:"inset-x-0 bottom-0 px-4",onBlur:i=>{i.currentTarget.contains(i.relatedTarget)||b(null)},children:e.jsxs("div",{className:"flex h-full justify-center space-x-14",children:[t.categories.map(i=>{const m=`megamenu-${i.name.toLowerCase().replace(/\s+/g,"-")}`;return e.jsxs("div",{className:"group flex",onMouseOver:()=>b(i.name),onMouseMove:()=>b(i.name),onMouseEnter:()=>b(i.name),children:[e.jsx("div",{className:"relative flex",children:e.jsx("button",{type:"button","aria-expanded":o===i.name,"aria-controls":m,onFocus:()=>b(i.name),onClick:()=>b(i.name),className:`relative flex items-center justify-center text-sm transition-colors duration-200 ease-out hover:text-gray-800 ${o===i.name?"font-bold text-black":"font-medium text-gray-700"}`,children:i.name})}),e.jsxs("div",{id:m,onMouseLeave:()=>b(null),className:`${y?"":"transition-all duration-200"} absolute inset-x-0 top-full z-10 w-full bg-white text-sm text-gray-500 ${o===i.name?"translate-y-0 opacity-100":"pointer-events-none opacity-0 "+(y?"":"-translate-y-8")}`,children:[e.jsx("div",{"aria-hidden":"true",className:"absolute inset-0 top-1/2 bg-white shadow-sm"}),e.jsx("div",{className:"relative bg-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-8",children:e.jsx("div",{className:"grid grid-cols-4 gap-x-8 gap-y-10 py-16",children:i.featured.map(N=>e.jsxs("div",{className:"group relative",children:[e.jsx("img",{alt:N.imageAlt,src:N.imageSrc,srcSet:N.imageSrcset,sizes:N.imageSizes,className:"aspect-square w-full rounded-md bg-gray-100 object-cover"}),e.jsxs("a",{href:N.href,className:"mt-4 block font-medium text-gray-900",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 z-10"}),N.name]})]},N.name))})})})]})]},i.name)}),t.pages.map(i=>{const m=s===i.href;return e.jsx("a",{href:i.href,"aria-current":m?"page":void 0,className:`flex items-center text-sm transition-colors ${m?"font-bold text-black":"font-medium text-gray-700 hover:text-gray-800"}`,children:i.name},i.name)})]})})}),e.jsx("div",{className:"flex flex-1 items-center lg:hidden",children:e.jsxs("button",{type:"button",onClick:()=>l(!0),className:"-ml-2 rounded-md bg-white p-2 text-gray-400",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(He,{"aria-hidden":"true",className:"size-6"})]})}),e.jsxs("a",{href:t.home.href,className:"lg:hidden",children:[e.jsx("span",{className:"sr-only",children:a.alt}),e.jsx("img",{alt:a.alt,src:a.src,srcSet:a.srcset,sizes:a.sizes,className:"h-8 w-auto"})]}),e.jsx("div",{className:"flex flex-1 items-center justify-end",children:e.jsxs("div",{className:"flex items-center lg:ml-8",children:[e.jsx("div",{className:"hidden whitespace-nowrap lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6",children:e.jsx(ce,{})}),e.jsx("div",{className:"ml-4 flow-root lg:ml-8",children:e.jsxs("a",{onClick:()=>le(!d),className:"group -m-2 flex items-center p-2",children:[e.jsx(Ge,{"aria-hidden":"true",className:"size-6 shrink-0 text-gray-400 group-hover:text-gray-500"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 group-hover:text-gray-800",suppressHydrationWarning:!0,children:A}),e.jsx("span",{className:"sr-only",children:"items in cart, view bag"})]})})]})})]})})})})})})]})}export{Mt as default};
