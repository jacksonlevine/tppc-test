import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{g as x,f as u,a as f,s as h}from"./cartStore.Yi2xGil1.js";import{r as a}from"./index.voUD-miS.js";import"./index.B-gUmfTx.js";import"./index.B9Lqsz3r.js";import"./index.BfFOJjEX.js";function g({title:r,titleId:s,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},t),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const p=a.forwardRef(g);function v({title:r,titleId:s,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},t),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"}))}const j=a.forwardRef(v);function b(r,s){const[t,l]=a.useState(r),d=a.useRef(!0);a.useEffect(()=>{l(r)},[r]),a.useEffect(()=>()=>{d.current=!1},[]);const n=a.useCallback(async()=>{try{const i=await x(r.handle,s);if(!i||!d.current)return;const c=i.priceRange.minVariantPrice;l(m=>({...m,variantId:i?.variants?.[0]?.id??m.variantId,price:u(c),priceAmount:c.amount,currencyCode:c.currencyCode}))}catch(i){console.error("Unable to refresh product pricing",i)}},[r.handle]);return a.useEffect(()=>{n()},[n]),{liveProduct:t,refreshProductPricing:n}}const y={ASSETS_PREFIX:void 0,BASE_URL:"/tppc-test",DEV:!1,MODE:"production",PROD:!0,PUBLIC_SHOPIFY_CUSTOMERACCOUNTAPI_CLIENTID:"1bebf8ab-21a5-49e2-87d1-083d826e2fac",PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN:"6b1998ad993e5edbe678ae7d446f66e7",PUBLIC_SHOPIFY_STORE_DOMAIN:"pureplantdev.myshopify.com",SITE:"https://main.d2o67etau3ak8h.amplifyapp.com",SSR:!1},o={average:4,totalCount:1624};function N(...r){return r.filter(Boolean).join(" ")}function S({product:r}){const{liveProduct:s}=b(r,y);return e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8",children:[e.jsxs("div",{className:"lg:max-w-lg lg:self-end",children:[e.jsx("nav",{"aria-label":"Breadcrumb",children:e.jsx("ol",{role:"list",className:"flex items-center space-x-2",children:s.breadcrumbs&&s.breadcrumbs.map((t,l)=>e.jsx("li",{children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("a",{href:t.href,className:"font-medium text-gray-500 hover:text-gray-900",children:t.name}),l!==s.breadcrumbs.length-1?e.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",className:"ml-2 size-5 shrink-0 text-gray-300",children:e.jsx("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}):null]})},t.id))})}),e.jsx("div",{className:"mt-4",children:e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:s.name})}),e.jsxs("section",{"aria-labelledby":"information-heading",className:"mt-4",children:[e.jsx("h2",{id:"information-heading",className:"sr-only",children:"Product information"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-lg text-gray-900 sm:text-xl",children:s.price}),e.jsxs("div",{className:"ml-4 border-l border-gray-300 pl-4",children:[e.jsx("h2",{className:"sr-only",children:"Reviews"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center",children:[0,1,2,3,4].map(t=>e.jsx(j,{"aria-hidden":"true",className:N(o.average>t?"text-yellow-400":"text-gray-300","size-5 shrink-0")},t))}),e.jsxs("p",{className:"sr-only",children:[o.average," out of 5 stars"]})]}),e.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[o.totalCount," reviews"]})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center",children:[e.jsx(p,{"aria-hidden":"true",className:"size-5 shrink-0 text-green-500"}),e.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[s?s.quantityAvailable:r.quantityAvailable," ","in stock and ready to ship"]})]})]})]}),e.jsx("div",{className:"mt-10 lg:col-start-2 lg:row-span-2 lg:mt-0 lg:self-center",children:e.jsx("img",{alt:s.imageAlt,src:s.imageSrc,className:"aspect-square w-full rounded-lg object-cover"})}),e.jsx("div",{className:"mt-10 lg:col-start-1 lg:row-start-2 lg:max-w-lg lg:self-start",children:e.jsxs("section",{"aria-labelledby":"options-heading",children:[e.jsx("h2",{id:"options-heading",className:"sr-only",children:"Product options"}),e.jsx("form",{children:e.jsx("div",{className:"mt-10",children:e.jsx("button",{type:"button",onClick:()=>{f(s.variantId).then(t=>{},t=>{console.log(t)}),h(!0)},className:"bg-hub-green hover:bg-hub-green-hi flex w-full items-center justify-center rounded-md border border-transparent px-8 py-3 text-base font-medium text-white focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50 focus:outline-hidden",children:"Add to bag"})})})]})})]})})}export{S as default};
